<!DOCTYPE html>
<html>
<head>
    <title>uploadimg.html</title>

</head>

<body>

<form name="picForm"
      enctype="multipart/form-data">
    <button id="up" type="button" class="btn btn-success pull-right"
            onclick="imageUpload()">上传图片
    </button>
    <input id="file" type="file" name="file" class="btn"/>
</form>
</body>
<script src="../js/jquery-3.2.1.min.js"></script>
<script src="../js/ajaxfileupload.js"></script>
<script type="text/javascript">
    //js代码
    function imageUpload() {
        alert("hello");
        $.ajaxFileUpload({
            url: '/user/upload', //用于文件上传的服务器端请求地址
            fileElementId: 'file', //文件上传空间的id属性  <input type="file" id="file" name="file" />
            type: 'post',
            dataType: 'json', //返回值类型 一般设置为json
            success: function (data, status) //服务器成功响应处理函数
            {
                alert("头像上传成功");
                //$("#picList").datagrid('reload');
                //$('#uploadPicWindow').window('close');
                // alert(data.msg);
            },
            error: function (data, status, e)//服务器响应失败处理函数
            {
                alert("图片上传失败");
                //$("#picList").datagrid('reload');
                //$('#uploadPicWindow').window('close');
                // alert(data.msg);
            }
        });
    }
</script>
</html>